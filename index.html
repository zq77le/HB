<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>èµ›èµ›ç”Ÿæ—¥å¿«ä¹ğŸ‰</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<style>
  html, body {
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(to bottom, #0d0d3f, #4b0082);
    color: white;
    overflow-y: auto;
    height: 100%;
    position: relative;
  }

  h1 {
    font-size: 3em;
    text-align: center;
    margin-top: 20px;
  }

  #playBtn {
    display: block;
    margin: 20px auto;
    font-size: 1.2em;
    padding: 10px 20px;
    border-radius: 12px;
    border: 2px solid white;
    background: rgba(255,255,255,0.2);
    color: white;
    cursor: pointer;
  }

  #playBtn:hover {
    background: rgba(255,255,255,0.3);
    transform: scale(1.1);
    transition: all 0.3s;
  }

  #letter {
    margin: 20px auto;
    max-width: 700px;
    background: rgba(255,255,255,0.1);
    padding: 25px;
    border-radius: 15px;
    font-size: 1.2em;
    text-align: left;
    white-space: pre-line;
    display: none;
  }

  /* æµåŠ¨é—ªçƒæ˜Ÿæ˜Ÿ */
  .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background-color: white;
    border-radius: 50%;
    opacity: 0.8;
    animation: twinkle 2s infinite alternate;
  }

  /* æµæ˜Ÿ */
  .shooting-star {
    position: absolute;
    width: 3px;
    height: 3px;
    background: linear-gradient(45deg, #ff0, #f0f, #0ff);
    border-radius: 50%;
    box-shadow: 0 0 10px #fff;
  }

  @keyframes twinkle {
    0% { opacity: 0.2; }
    50% { opacity: 1; }
    100% { opacity: 0.2; }
  }

  /* ç”Ÿæ—¥è›‹ç³• */
  .cake {
    position: relative;
    width: 150px;
    margin: 30px auto;
    display: none;
  }

  .cake-base {
    width: 100%;
    height: 60px;
    background: #ff9999;
    border-radius: 0 0 10px 10px;
    position: relative;
    z-index: 1;
  }

  .cake-top {
    width: 100px;
    height: 40px;
    background: #ff6666;
    border-radius: 10px 10px 0 0;
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2;
  }

  .candle {
    width: 8px;
    height: 20px;
    background: #fff;
    position: absolute;
    top: -60px;
    border-radius: 2px;
  }

  .candle .flame {
    width: 6px;
    height: 10px;
    background: radial-gradient(circle, #ff0 0%, #f90 70%, #f00 100%);
    position: absolute;
    top: -10px;
    left: 1px;
    border-radius: 50%;
    animation: flicker 0.5s infinite alternate;
  }

  @keyframes flicker {
    0% { transform: scale(1); opacity:1; }
    50% { transform: scale(1.3); opacity:0.8; }
    100% { transform: scale(1); opacity:1; }
  }

  /* å½©è‰²å°ç«èŠ± */
  .spark {
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    opacity: 0.8;
  }
</style>
</head>
<body>

<h1>ğŸ‚ ç”Ÿæ—¥å¿«ä¹ï¼ ğŸ‰</h1>
<p style="text-align:center;">ç‚¹å‡»ä¸‹é¢æŒ‰é’®æ’­æ”¾éŸ³ä¹å¹¶æŸ¥çœ‹ç¥ç¦ä¿¡ğŸ’ŒğŸ¶</p>

<button id="playBtn">ğŸ”Š æ’­æ”¾éŸ³ä¹</button>

<div id="aplayer"></div>
<div id="letter"></div>

<!-- ç”Ÿæ—¥è›‹ç³• -->
<div class="cake" id="cake">
  <div class="cake-base"></div>
  <div class="cake-top"></div>
  <!-- 3 æ ¹èœ¡çƒ›æ•´é½å±…ä¸­ -->
  <div class="candle" style="left:25%;"><div class="flame"></div></div>
  <div class="candle" style="left:50%;"><div class="flame"></div></div>
  <div class="candle" style="left:75%;"><div class="flame"></div></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<script>
const playBtn = document.getElementById('playBtn');
const letter = document.getElementById('letter');
const cake = document.getElementById('cake');

const message = `èµ›èµ›ï¼Œç”Ÿæ—¥å¿«ä¹ï¼ğŸ‰ğŸ‚
æˆ‘ä»¬æ˜¯åœ¨ã€Šå…‰é‡ã€‹é‡Œè®¤è¯†çš„ï¼Œç„¶åå¼€å§‹æˆ‘ä»¬è¶Šæ¥è¶Šäº†è§£å¯¹æ–¹ï¼Œä»é‚£ä¸€åˆ»èµ·ï¼Œä½ å°±æˆäº†æˆ‘ç”Ÿå‘½é‡Œç‰¹åˆ«çš„å­˜åœ¨ã€‚
ä½ æ€»æ˜¯ä¸ºåˆ«äººç€æƒ³ï¼Œå–„è‰¯ã€æ¸©æŸ”ï¼Œä¼šå”±æ­Œã€ç”»ç”»ï¼Œå†™å­— è¿˜äº²æ‰‹åšæ‰‹é“¾ã€é¡¹é“¾é€ç»™æˆ‘ï¼Œæ¯ä¸€æ¬¡éƒ½è®©æˆ‘æ„ŸåŠ¨åˆå¼€å¿ƒã€‚ å¯¹æˆ‘æ¥è¯´ï¼Œä½ å°±åƒåœ¨è¿œæ–¹çš„å®¶äººä¸€æ ·é‡è¦ï¼Œå°±åƒå¦¹å¦¹ä¸€æ ·äº²è¿‘ã€‚  

æ¯æ¬¡å’Œä½ æ‰“ç”µè¯ã€èŠå¤©ã€æ‰“æ¸¸æˆã€å”±æ­Œ æˆ‘éƒ½è§‰å¾—å¾ˆå®‰å¿ƒã€å¾ˆå¼€å¿ƒï¼Œå¥½åƒæ‰€æœ‰çƒ¦æ¼éƒ½ç¦»æˆ‘è¿œå»äº†ã€‚ æˆ‘çŸ¥é“ä½ æœ‰æ—¶å€™ä¹Ÿä¼šå¿ƒæƒ…ä¸å¥½ï¼Œæœ‰çƒ¦æ¼å´ä¸æƒ³ç«‹åˆ»è¯´å‡ºæ¥ï¼Œä½†æˆ‘æƒ³è®©ä½ çŸ¥é“æ— è®ºä½ å¼€å¿ƒè¿˜æ˜¯ä¸å¼€å¿ƒï¼Œæˆ‘éƒ½ä¼šåœ¨ä½ èº«è¾¹é™ªä½ ï¼Œä¸åªæ˜¯ä»Šå¤©ï¼Œè€Œæ˜¯æ¯ä¸€å¤©ã€‚åªè¦ä½ éœ€è¦ï¼Œæˆ‘å°±ä¸€ç›´åœ¨ã€‚ä½ æ°¸è¿œæ˜¯æˆ‘æœ€å¥½çš„å¥½æœ‹å‹ã€ç¬¬ä¸€åğŸ’›  

ä»Šå¹´çš„ç”Ÿæ—¥ç¤¼ç‰©ä½ è€æ˜¯è¯´è´µï¼è¿™å°±æ˜¯ä¸€å¹´ä¸€æ¬¡ä½ çš„ç”Ÿæ—¥æˆ‘è¿˜æ˜¯å¸Œæœ›ä½ æ”¶åˆ°ç¤¼ç‰©åä¼šå–œæ¬¢ã€‚å½“ç„¶å¦‚æœä¸æ»¡æ„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å†ä¹°åˆ«çš„å“ˆå“ˆå“ˆå“ˆ  

æ˜å¹´æˆ‘æ›´æœŸå¾…å’Œä½ è§é¢ï¼Œä¸€èµ·æ‹å¥½å¤šå¥½å¤šç…§ç‰‡ï¼Œå»å¥½ç©çš„åœ°æ–¹ï¼Œåƒå¥½åƒçš„ï¼Œç•™ä¸‹ç¾å¥½çš„å›å¿†å’Œç…§ç‰‡è§†é¢‘ã€‚  

å¸Œæœ›ä½ ä¹Ÿèƒ½å¤šä¸ºè‡ªå·±ç€æƒ³ï¼ŒæŠŠè‡ªå·±ç…§é¡¾å¾—å¥½å¥½çš„ï¼Œå› ä¸ºä½ å€¼å¾—æœ€å¥½çš„ã€‚ æ— è®ºåˆ«äººæ€ä¹ˆå¦å®šä½ ï¼Œåœ¨æˆ‘å¿ƒé‡Œï¼Œä½ æ°¸è¿œéƒ½æ˜¯æœ€æ£’çš„ï¼ä½ åœ¨æˆ‘å¿ƒé‡Œæ°¸è¿œæ˜¯æœ€ç‰¹åˆ«çš„æœ‹å‹ï¼Œåƒå®¶äººä¸€æ ·ï¼Œæˆ‘ä¼šä¸€ç›´çæƒœæˆ‘ä»¬çš„å‹æƒ…ã€‚  

æœ€åï¼Œç¥å°±åƒæˆ‘å®¶äººã€å¦¹å¦¹ä¸€æ ·çš„èµ›èµ›â€”â€”ç”Ÿæ—¥å¿«ä¹ï¼æ„¿ä½ æ¯å¤©éƒ½åƒä»Šå¤©ä¸€æ ·è¢«æ¸©æŸ”åŒ…å›´ï¼Œå¹¸ç¦æ»¡æ»¡ğŸ’«

â€”â€” ä½ çš„å¥½æœ‹å‹`;

const ap = new APlayer({
  element: document.getElementById('aplayer'),
  showlrc: false,
  fixed: true,
  mini: true,
  audio: [
    {
      name: "Happy Birthday",
      artist: "8bite",
      url: "https://res.cloudinary.com/dt3tc3qjw/video/upload/v1759328043/Happy_Birthday_uwtecg.mp3",
      cover: "https://res.cloudinary.com/dt3tc3qjw/image/upload/v1759328695/ogsv4iCeNBzAlEAaTgAJAFXkEfN4sHAiTAIAiA_tplv-dy-aweme-images_q75_copy_lyfldl.jpg"
    }
  ]
});

let isPlaying = false;

playBtn.addEventListener('click', () => {
  if(!isPlaying){
    ap.play();
    isPlaying = true;
    playBtn.textContent = "â¸ æš‚åœéŸ³ä¹";
    letter.style.display = "block";
    typeWriter(letter, message, 0);
    startStarsFlow();
    startShootingStars();
  } else {
    ap.pause();
    isPlaying = false;
    playBtn.textContent = "ğŸ”Š æ’­æ”¾éŸ³ä¹";
  }
});

// æ–‡å­—é€å­—æ˜¾ç¤º
function typeWriter(element, text, index){
  if(index < text.length){
    element.innerHTML += text.charAt(index);
    setTimeout(()=> typeWriter(element, text, index+1), 20);
  } else {
    cake.style.display = "block";
    startCakeSparks();
  }
}

// æµåŠ¨æ˜Ÿæ˜Ÿ
function startStarsFlow(){
  setInterval(() => {
    let star = document.createElement('div');
    star.classList.add('star');
    star.style.left = Math.random() * window.innerWidth + 'px';
    star.style.top = window.innerHeight + 'px';
    let size = 1 + Math.random()*2;
    star.style.width = size + 'px';
    star.style.height = size + 'px';
    let duration = 5 + Math.random()*5;
    document.body.appendChild(star);
    star.animate(
      [
        { transform: `translateY(0)` },
        { transform: `translateY(-${window.innerHeight + 50}px)` }
      ],
      { duration: duration*1000, easing: 'linear' }
    ).onfinish = () => star.remove();
  }, 200);
}

// æµæ˜Ÿæ•ˆæœ
function startShootingStars(){
  setInterval(() => {
    let star = document.createElement('div');
    star.classList.add('shooting-star');
    let startX = Math.random() * window.innerWidth;
    let startY = Math.random() * window.innerHeight / 2;
    star.style.left = startX + 'px';
    star.style.top = startY + 'px';
    let endX = startX + (50 + Math.random()*150);
    let endY = startY + (50 + Math.random()*150);
    document.body.appendChild(star);

    star.animate(
      [
        { transform: `translate(0,0)`, opacity:1 },
        { transform: `translate(${endX-startX}px,${endY-startY}px)`, opacity:0 }
      ],
      { duration: 1000 + Math.random()*1000, easing: 'ease-out' }
    ).onfinish = () => star.remove();
  }, 1500);
}

// è›‹ç³•ç«èŠ±
function startCakeSparks(){
  setInterval(() => {
    let spark = document.createElement('div');
    spark.classList.add('spark');
    spark.style.backgroundColor = `hsl(${Math.random()*360}, 100%, 70%)`;
    spark.style.left = (cake.offsetLeft + 70 + Math.random()*20 - 10) + 'px';
    spark.style.top = (cake.offsetTop - 10) + 'px';
    document.body.appendChild(spark);

    let dx = (Math.random()*40 - 20);
    let dy = -(20 + Math.random()*30);

    spark.animate(
      [
        { transform: `translate(0,0)`, opacity:1 },
        { transform: `translate(${dx}px,${dy}px)`, opacity:0 }
      ],
      { duration: 1000 + Math.random()*500, easing: 'ease-out' }
    ).onfinish = () => spark.remove();
  }, 200);
}
</script>
</body>
</html>


